--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.4
-- Dumped by pg_dump version 9.6.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: articulos; Type: TABLE; Schema: public; Owner: angel
--

CREATE TABLE articulos (
    articuloid integer NOT NULL,
    nombre text,
    factorfrecuencia integer,
    frecuencia integer
);


ALTER TABLE articulos OWNER TO angel;

--
-- Name: articulos_articuloid_seq; Type: SEQUENCE; Schema: public; Owner: angel
--

CREATE SEQUENCE articulos_articuloid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE articulos_articuloid_seq OWNER TO angel;

--
-- Name: articulos_articuloid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: angel
--

ALTER SEQUENCE articulos_articuloid_seq OWNED BY articulos.articuloid;


--
-- Name: detalle; Type: TABLE; Schema: public; Owner: angel
--

CREATE TABLE detalle (
    detalleid integer NOT NULL,
    articuloid integer,
    unidadid integer,
    cantidad numeric,
    precio numeric,
    caducidad date,
    fecharegistro date DEFAULT ('now'::text)::date
);


ALTER TABLE detalle OWNER TO angel;

--
-- Name: detalle_detalleid_seq; Type: SEQUENCE; Schema: public; Owner: angel
--

CREATE SEQUENCE detalle_detalleid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE detalle_detalleid_seq OWNER TO angel;

--
-- Name: detalle_detalleid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: angel
--

ALTER SEQUENCE detalle_detalleid_seq OWNED BY detalle.detalleid;


--
-- Name: frecuencia; Type: TABLE; Schema: public; Owner: angel
--

CREATE TABLE frecuencia (
    id integer NOT NULL,
    nombre character(15),
    dias integer
);


ALTER TABLE frecuencia OWNER TO angel;

--
-- Name: frecuencia_id_seq; Type: SEQUENCE; Schema: public; Owner: angel
--

CREATE SEQUENCE frecuencia_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE frecuencia_id_seq OWNER TO angel;

--
-- Name: frecuencia_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: angel
--

ALTER SEQUENCE frecuencia_id_seq OWNED BY frecuencia.id;


--
-- Name: unidad; Type: TABLE; Schema: public; Owner: angel
--

CREATE TABLE unidad (
    unidadid integer NOT NULL,
    nombre text
);


ALTER TABLE unidad OWNER TO angel;

--
-- Name: unidad_unidadid_seq; Type: SEQUENCE; Schema: public; Owner: angel
--

CREATE SEQUENCE unidad_unidadid_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE unidad_unidadid_seq OWNER TO angel;

--
-- Name: unidad_unidadid_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: angel
--

ALTER SEQUENCE unidad_unidadid_seq OWNED BY unidad.unidadid;


--
-- Name: articulos articuloid; Type: DEFAULT; Schema: public; Owner: angel
--

ALTER TABLE ONLY articulos ALTER COLUMN articuloid SET DEFAULT nextval('articulos_articuloid_seq'::regclass);


--
-- Name: detalle detalleid; Type: DEFAULT; Schema: public; Owner: angel
--

ALTER TABLE ONLY detalle ALTER COLUMN detalleid SET DEFAULT nextval('detalle_detalleid_seq'::regclass);


--
-- Name: frecuencia id; Type: DEFAULT; Schema: public; Owner: angel
--

ALTER TABLE ONLY frecuencia ALTER COLUMN id SET DEFAULT nextval('frecuencia_id_seq'::regclass);


--
-- Name: unidad unidadid; Type: DEFAULT; Schema: public; Owner: angel
--

ALTER TABLE ONLY unidad ALTER COLUMN unidadid SET DEFAULT nextval('unidad_unidadid_seq'::regclass);


--
-- Data for Name: articulos; Type: TABLE DATA; Schema: public; Owner: angel
--

COPY articulos (articuloid, nombre, factorfrecuencia, frecuencia) FROM stdin;
4	Azúcar	\N	\N
5	Harina	\N	\N
2	Leche	1	2
3	Agua	1	4
\.


--
-- Name: articulos_articuloid_seq; Type: SEQUENCE SET; Schema: public; Owner: angel
--

SELECT pg_catalog.setval('articulos_articuloid_seq', 5, true);


--
-- Data for Name: detalle; Type: TABLE DATA; Schema: public; Owner: angel
--

COPY detalle (detalleid, articuloid, unidadid, cantidad, precio, caducidad, fecharegistro) FROM stdin;
3	2	2	6	\N	2017-10-10	2017-09-30
4	3	2	20	\N	2019-10-10	2017-09-30
5	4	3	2	\N	2017-12-12	2017-09-30
6	5	3	1	\N	2018-09-18	2017-09-30
\.


--
-- Name: detalle_detalleid_seq; Type: SEQUENCE SET; Schema: public; Owner: angel
--

SELECT pg_catalog.setval('detalle_detalleid_seq', 6, true);


--
-- Data for Name: frecuencia; Type: TABLE DATA; Schema: public; Owner: angel
--

COPY frecuencia (id, nombre, dias) FROM stdin;
1	DIA(S)         	1
2	SEMANA(S)      	7
3	MES(ES)        	30
4	AÑO(S)         	365
\.


--
-- Name: frecuencia_id_seq; Type: SEQUENCE SET; Schema: public; Owner: angel
--

SELECT pg_catalog.setval('frecuencia_id_seq', 4, true);


--
-- Data for Name: unidad; Type: TABLE DATA; Schema: public; Owner: angel
--

COPY unidad (unidadid, nombre) FROM stdin;
1	\N
2	Litro
3	Kilo
\.


--
-- Name: unidad_unidadid_seq; Type: SEQUENCE SET; Schema: public; Owner: angel
--

SELECT pg_catalog.setval('unidad_unidadid_seq', 3, true);


--
-- Name: articulos articulos_pkey; Type: CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY articulos
    ADD CONSTRAINT articulos_pkey PRIMARY KEY (articuloid);


--
-- Name: detalle detalle_pkey; Type: CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY detalle
    ADD CONSTRAINT detalle_pkey PRIMARY KEY (detalleid);


--
-- Name: frecuencia frecuencia_pkey; Type: CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY frecuencia
    ADD CONSTRAINT frecuencia_pkey PRIMARY KEY (id);


--
-- Name: unidad unidad_pkey; Type: CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY unidad
    ADD CONSTRAINT unidad_pkey PRIMARY KEY (unidadid);


--
-- Name: articulos articulos_frecuencia_fkey; Type: FK CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY articulos
    ADD CONSTRAINT articulos_frecuencia_fkey FOREIGN KEY (frecuencia) REFERENCES frecuencia(id);


--
-- Name: detalle detalle_articuloid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY detalle
    ADD CONSTRAINT detalle_articuloid_fkey FOREIGN KEY (articuloid) REFERENCES articulos(articuloid);


--
-- Name: detalle detalle_unidadid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: angel
--

ALTER TABLE ONLY detalle
    ADD CONSTRAINT detalle_unidadid_fkey FOREIGN KEY (unidadid) REFERENCES unidad(unidadid);


--
-- PostgreSQL database dump complete
--

